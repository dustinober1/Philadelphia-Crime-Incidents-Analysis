# Milestone v1.1: Local Workflow Enhancements

**Status:** ✅ SHIPPED February 7, 2026
**Phases:** 4-6
**Total Plans:** 9

## Overview

Improved local runtime confidence and machine-fit behavior while preserving the default compose startup path. This milestone made post-start smoke checks canonical, introduced optional low-power/high-performance runtime presets, and added automated guardrails to prevent regressions in preset behavior and default runtime budgets.

## Phases

### Phase 4: Smoke-Check Productization

**Goal**: Standardize and harden the post-start smoke-check workflow.
**Depends on**: Phase 3
**Plans**: 3 plans

Plans:

- [x] 04-01: Canonical smoke-check contract and validator hardening
- [x] 04-02: Canonical smoke-check documentation flow
- [x] 04-03: Smoke-check regression and conformance guardrails

**Details:**
- Hardened `scripts/validate_local_stack.py` failure semantics for API readiness, missing exports, and web endpoint failures.
- Standardized canonical smoke-check command usage in both operator docs.
- Added integration/doc guardrails to keep startup and validation flow ordering stable.

### Phase 5: Runtime Preset Modes

**Goal**: Introduce low-power and high-performance runtime modes without changing default behavior.
**Depends on**: Phase 4
**Plans**: 3 plans

Plans:

- [x] 05-01: Runtime preset contract and rendering tooling
- [x] 05-02: Runtime mode documentation and operator guidance
- [x] 05-03: Runtime preset regression guardrails

**Details:**
- Added explicit runtime preset overlays and compose wrapper for opt-in low-power/high-performance modes.
- Added deterministic runtime mode validators and tightened default-budget validation.
- Documented mode-selection workflow while preserving default `docker compose up -d --build` path.

### Phase 6: Preset and Regression Guardrails

**Goal**: Lock in preset correctness and default-mode safety with automated checks.
**Depends on**: Phase 5
**Plans**: 3 plans

Plans:

- [x] 06-01: Canonical runtime guardrail entry point
- [x] 06-02: Regression automation and test wiring
- [x] 06-03: Documentation and traceability closure

**Details:**
- Added canonical guardrail wrapper and stable make entrypoint (`make check-runtime-guardrails`).
- Added integration coverage for preset/default regression safety and requirements traceability.
- Closed PRESET-04 traceability and aligned operator documentation to canonical commands.

---

## Milestone Summary

**Decimal Phases:**

- None

**Key Decisions:**

- Decision: Keep default startup unchanged while adding optional runtime presets. Outcome: ✓ Good.
- Decision: Canonicalize smoke-check and guardrail commands in docs/scripts/tests. Outcome: ✓ Good.
- Decision: Require regression checks for preset render behavior and default-budget safety. Outcome: ✓ Good.

**Issues Resolved:**

- Reduced uncertainty after startup via canonical smoke-check validation.
- Eliminated runtime-mode ambiguity with explicit preset overlays and wrapper command.
- Closed preset/default regression risk with wired integration checks and make command.

**Issues Deferred:**

- Structured machine-readable smoke-check output for CI consumers (carried forward).
- Additional endpoint coverage beyond baseline readiness checks (carried forward).
- Host-resource auto-selection of runtime mode (carried forward).

**Technical Debt Incurred:**

- No material shortcut debt recorded in milestone summaries/audit artifacts.

---

_For current project status, see `.planning/ROADMAP.md`_
