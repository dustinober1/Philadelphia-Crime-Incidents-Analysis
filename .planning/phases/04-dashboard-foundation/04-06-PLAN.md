---
phase: 04-dashboard-foundation
plan: 06
type: execute
wave: 3
depends_on: [04-01, 04-02, 04-03, 04-04, 04-05]
files_modified:
  - dashboard/app.py
  - dashboard/pages/__init__.py
  - dashboard/pages/overview.py
  - dashboard/pages/temporal.py
  - dashboard/pages/spatial.py
  - dashboard/pages/correlations.py
  - dashboard/pages/advanced.py
autonomous: false

must_haves:
  truths:
    - "Dashboard displays 5 tabs: Overview/Stats, Temporal Trends, Spatial Maps, Correlations, Advanced Temporal"
    - "Each tab displays filtered visualizations using analysis modules"
    - "Overview tab shows summary statistics and key metrics"
    - "Temporal tab shows time series plots and seasonal patterns"
    - "Spatial tab shows geographic distribution and district comparisons"
    - "Dashboard loads and renders within 5 seconds after initial cache"
  artifacts:
    - path: "dashboard/pages/__init__.py"
      provides: "Pages package initialization"
      min_lines: 5
    - path: "dashboard/pages/overview.py"
      provides: "Overview/Stats tab with summary metrics"
      min_lines: 100
    - path: "dashboard/pages/temporal.py"
      provides: "Temporal Trends tab with time series plots"
      min_lines: 150
    - path: "dashboard/pages/spatial.py"
      provides: "Spatial Maps tab with geographic visualizations"
      min_lines: 150
    - path: "dashboard/pages/correlations.py"
      provides: "Correlations tab with external data plots"
      min_lines: 100
    - path: "dashboard/pages/advanced.py"
      provides: "Advanced Temporal tab with holiday/shift/crime type analysis"
      min_lines: 100
  key_links:
    - from: "dashboard/pages/overview.py"
      to: "dashboard/components/cache.py"
      via: "Use get_data_summary for statistics"
      pattern: "from dashboard\\.components\\.cache import"
    - from: "dashboard/pages/temporal.py"
      to: "analysis/temporal_analysis.py"
      via: "Import and reuse analysis functions for plots"
      pattern: "from analysis\\.temporal_analysis import"
    - from: "dashboard/pages/spatial.py"
      to: "analysis/spatial_analysis.py"
      via: "Import and reuse analysis functions for maps"
      pattern: "from analysis\\.spatial_analysis import"
    - from: "dashboard/pages/correlations.py"
      to: "analysis/correlation_analysis.py"
      via: "Import and reuse correlation analysis functions"
      pattern: "from analysis\\.correlation_analysis import"
    - from: "dashboard/pages/advanced.py"
      to: "analysis/03-04-advanced_temporal_report.py"
      via: "Import or embed advanced temporal report"
      pattern: "importlib\\.import_module"
    - from: "dashboard/app.py"
      to: "dashboard/pages/*.py"
      via: "Import and call page render functions"
      pattern: "from dashboard\\.pages import"
---

<objective>
Create main dashboard with tabbed interface displaying filtered visualizations from all analysis modules.

Purpose: Deliver the complete dashboard experience with 5 tabs (Overview/Stats, Temporal Trends, Spatial Maps, Correlations, Advanced Temporal) that display interactive, filtered visualizations. All visualizations reuse existing analysis modules (no duplicated logic). This completes the Phase 4 foundation.

Output: Fully functional Streamlit dashboard with time range, geographic, and crime type filters; tabbed content areas; and filtered visualizations loading in <5 seconds.
</objective>

<execution_context>
@/Users/dustinober/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dustinober/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@.planning/phases/04-dashboard-foundation/04-CONTEXT.md
@.planning/phases/04-dashboard-foundation/04-RESEARCH.md

@dashboard/config.py
@dashboard/components/cache.py
@dashboard/filters/time_filters.py
@dashboard/filters/geo_filters.py
@dashboard/filters/crime_filters.py
@analysis/temporal_analysis.py
@analysis/spatial_analysis.py
@analysis/correlation_analysis.py
@analysis/03-04-advanced_temporal_report.py
@analysis/categorical_analysis.py
</context>

<tasks>

<task type="auto">
  <name>Create dashboard pages module with tab content renderers</name>
  <files>dashboard/pages/__init__.py, dashboard/pages/overview.py, dashboard/pages/temporal.py, dashboard/pages/spatial.py, dashboard/pages/correlations.py, dashboard/pages/advanced.py, dashboard/app.py</files>
  <action>
Create the dashboard pages module with individual page renderers for each tab:

1. **CREATE dashboard/pages/__init__.py**:
```python
"""
Dashboard page renderers.

Each page corresponds to a tab in the main dashboard.
"""

from dashboard.pages.overview import render_overview_page
from dashboard.pages.temporal import render_temporal_page
from dashboard.pages.spatial import render_spatial_page
from dashboard.pages.correlations import render_correlations_page
from dashboard.pages.advanced import render_advanced_page

__all__ = [
    "render_overview_page",
    "render_temporal_page",
    "render_spatial_page",
    "render_correlations_page",
    "render_advanced_page",
]
```

2. **CREATE dashboard/pages/overview.py**:
```python
"""
Overview/Stats page renderer.

Displays summary statistics, key metrics, and high-level insights.
"""

import streamlit as st
import pandas as pd

from dashboard.components.cache import get_data_summary


def render_overview_page(df: pd.DataFrame) -> None:
    """
    Render the Overview/Stats page.

    Args:
        df: Filtered DataFrame.
    """
    st.header(":bar_chart: Overview & Statistics")

    # Get summary statistics
    summary = get_data_summary(df)

    # Key metrics row
    st.subheader("Key Metrics")

    col1, col2, col3, col4 = st.columns(4)

    with col1:
        st.metric(
            label="Total Incidents",
            value=f"{summary['total_records']:,}",
            delta=None,
        )

    with col2:
        years = summary.get('years', 'N/A')
        st.metric(
            label="Time Span",
            value=f"{years} years" if isinstance(years, int) else years,
        )

    with col3:
        districts = summary.get('districts', 'N/A')
        st.metric(
            label="Police Districts",
            value=str(districts),
        )

    with col4:
        coord_pct = summary.get('coord_coverage', {}).get('percentage', 0)
        st.metric(
            label="Valid Coordinates",
            value=f"{coord_pct:.1f}%",
        )

    # Crime category breakdown
    st.subheader("Crime Category Distribution")

    if "crime_category" in df.columns:
        category_counts = df["crime_category"].value_counts()

        col1, col2, col3 = st.columns(3)

        with col1:
            violent = category_counts.get("Violent", 0)
            st.metric("Violent Crimes", f"{violent:,}")

        with col2:
            property_crime = category_counts.get("Property", 0)
            st.metric("Property Crimes", f"{property_crime:,}")

        with col3:
            other = category_counts.get("Other", 0)
            st.metric("Other Offenses", f"{other:,}")

        # Simple bar chart using Streamlit
        st.bar_chart(category_counts)

    # Temporal breakdown
    st.subheader("Temporal Distribution")

    col1, col2 = st.columns(2)

    with col1:
        if "year" in df.columns:
            year_counts = df["year"].value_counts().sort_index()
            st.line_chart(year_counts)

    with col2:
        if "season" in df.columns:
            season_counts = df["season"].value_counts()
            st.bar_chart(season_counts)

    # District breakdown
    st.subheader("District Distribution")

    if "dc_dist" in df.columns:
        district_counts = df["dc_dist"].value_counts().sort_index().head(10)
        st.bar_chart(district_counts)
```

3. **CREATE dashboard/pages/temporal.py**:
```python
"""
Temporal Trends page renderer.

Displays time series plots and seasonal patterns using analysis module functions.
"""

import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt
import base64
from io import BytesIO

from dashboard.components.cache import get_data_summary
from analysis.temporal_analysis import analyze_temporal_patterns


def fig_to_base64(fig: plt.Figure) -> str:
    """Convert matplotlib figure to base64 string for Streamlit display."""
    buf = BytesIO()
    fig.savefig(buf, format='png', dpi=100, bbox_inches='tight')
    buf.seek(0)
    img_str = base64.b64encode(buf.read()).decode()
    plt.close(fig)
    return img_str


@st.cache_data(show_spinner="Running temporal analysis...")
def get_temporal_analysis_results(df_sample: pd.DataFrame) -> dict:
    """
    Run temporal analysis on filtered data using analysis module.

    Args:
        df_sample: Sampled/filtered DataFrame for analysis.

    Returns:
        Results dict from analyze_temporal_patterns().
    """
    # Import here to avoid issues with module-level side effects
    from analysis.temporal_analysis import analyze_temporal_patterns
    return analyze_temporal_patterns()


def render_temporal_page(df: pd.DataFrame) -> None:
    """
    Render the Temporal Trends page.

    Args:
        df: Filtered DataFrame.
    """
    st.header(":clock: Temporal Trends")

    st.caption("Time-based patterns and trends in crime incidents")

    # Option: Show pre-generated report OR run filtered analysis
    col1, col2 = st.columns([3, 1])

    with col2:
        use_filtered = st.checkbox(
            "Use filtered data",
            value=False,
            help="Uncheck to view full analysis report (faster). Check to analyze current filter."
        )

    if not use_filtered:
        # Display pre-generated report (CONTEXT.md decision: "Existing reports embedded")
        st.info(":memo: Displaying pre-generated temporal analysis report (full dataset)")

        report_path = "reports/02_temporal_analysis_report.md"
        try:
            with open(report_path, "r") as f:
                report_content = f.read()
            st.markdown(report_content)
        except FileNotFoundError:
            st.warning(f"Report not found. Run `python analysis/temporal_analysis.py` to generate.")
    else:
        # Run analysis on filtered data (reuses analysis module logic)
        st.warning(":hourglass: Analyzing filtered data - this may take a moment...")

        # Sample for performance if dataset is large
        sample_size = min(500000, len(df))
        df_sample = df.sample(n=sample_size, random_state=42) if len(df) > sample_size else df

        try:
            # Reuse analysis module - no duplicated logic
            results = get_temporal_analysis_results(df_sample)

            # Display results from analysis module
            if "yearly_trend_plot" in results:
                st.subheader("Yearly Trend Analysis")
                st.markdown(results["yearly_trend_plot"])

            if "monthly_bar_plot" in results:
                st.subheader("Monthly Distribution")
                st.markdown(results["monthly_bar_plot"])

            if "dow_plot" in results:
                st.subheader("Day of Week Distribution")
                st.markdown(results["dow_plot"])

            if "hourly_plot" in results:
                st.subheader("Hour of Day Distribution")
                st.markdown(results["hourly_plot"])

        except Exception as e:
            st.error(f"Analysis failed: {e}")
            st.info("Try unchecking 'Use filtered data' to view the pre-generated report.")
```

4. **CREATE dashboard/pages/spatial.py**:
```python
"""
Spatial Maps page renderer.

Displays geographic distribution and district comparisons using analysis module functions.
"""

import streamlit as st
import pandas as pd

from analysis.spatial_analysis import analyze_spatial_patterns


@st.cache_data(show_spinner="Running spatial analysis...")
def get_spatial_analysis_results() -> dict:
    """
    Run spatial analysis using analysis module.

    Returns:
        Results dict from analyze_spatial_patterns().
    """
    # Import here to avoid issues with module-level side effects
    from analysis.spatial_analysis import analyze_spatial_patterns
    return analyze_spatial_patterns()


def render_spatial_page(df: pd.DataFrame) -> None:
    """
    Render the Spatial Maps page.

    Args:
        df: Filtered DataFrame.
    """
    st.header(":map: Spatial Distribution")

    st.caption("Geographic patterns and district comparisons")

    # Option: Show pre-generated report OR run filtered analysis
    col1, col2 = st.columns([3, 1])

    with col2:
        use_filtered = st.checkbox(
            "Use filtered data",
            value=False,
            help="Uncheck to view full analysis report (faster). Check to analyze current filter."
        )

    if not use_filtered:
        # Display pre-generated report (CONTEXT.md decision: "Existing reports embedded")
        st.info(":memo: Displaying pre-generated spatial analysis report (full dataset)")

        report_path = "reports/04_spatial_analysis_report.md"
        try:
            with open(report_path, "r") as f:
                report_content = f.read()
            st.markdown(report_content)
        except FileNotFoundError:
            st.warning(f"Report not found. Run `python analysis/spatial_analysis.py` to generate.")
    else:
        # Run analysis on filtered data (reuses analysis module logic)
        st.warning(":hourglass: Analyzing filtered data - this may take a moment...")

        try:
            # Reuse analysis module - no duplicated logic
            results = get_spatial_analysis_results()

            # Display results from analysis module
            if "geo_scatter_density" in results:
                st.subheader("Geographic Distribution")
                st.markdown(results["geo_scatter_density"])

            if "density_map_highres" in results:
                st.subheader("High-Resolution Density Map")
                st.markdown(results["density_map_highres"])

            if "district_geo_distribution" in results:
                st.subheader("District Distribution")
                st.markdown(results["district_geo_distribution"])

            if "coord_stats" in results:
                st.subheader("Coordinate Statistics")
                stats = results["coord_stats"]
                col1, col2, col3, col4 = st.columns(4)
                col1.metric("Valid Coordinates", f"{stats['valid_coordinates']:,}")
                col2.metric("Coverage %", f"{stats['valid_pct']:.1f}%")
                col3.metric("Lon Range", f"{stats['lon_min']:.2f} to {stats['lon_max']:.2f}")
                col4.metric("Lat Range", f"{stats['lat_min']:.2f} to {stats['lat_max']:.2f}")

        except Exception as e:
            st.error(f"Analysis failed: {e}")
            st.info("Try unchecking 'Use filtered data' to view the pre-generated report.")
```

5. **CREATE dashboard/pages/correlations.py**:
```python
"""
Correlations page renderer.

Displays external data correlations (weather, economic).
"""

import streamlit as st
import pandas as pd
from pathlib import Path


def render_correlations_page(df: pd.DataFrame) -> None:
    """
    Render the Correlations page.

    Args:
        df: Filtered DataFrame.
    """
    st.header(":chart_with_upwards_trend: External Data Correlations")

    st.caption("Correlations with weather and economic factors")

    # Check for correlation reports
    correlation_report = Path("reports/12_correlations_report.md")

    if correlation_report.exists():
        st.info(":memo: Displaying pre-generated correlation analysis report")

        with st.spinner("Loading report..."):
            report_content = correlation_report.read_text()

        # Display as markdown
        st.markdown(report_content)
    else:
        st.warning("""
        **Correlation analysis report not found**

        The correlation analysis report (`reports/12_correlations_report.md`)
        has not been generated yet.

        To generate this report, run:
        ```bash
        python analysis/12_report_correlations.py
        ```

        Note: External data sources require API keys:
        - FRED API for unemployment data
        - Census API for income/poverty data

        See `.env.example` for setup instructions.
        """)
```

6. **CREATE dashboard/pages/advanced.py**:
```python
"""
Advanced Temporal page renderer.

Displays holiday effects, crime type profiles, and shift analysis.
"""

import streamlit as st
import pandas as pd
from pathlib import Path
import importlib


def render_advanced_page(df: pd.DataFrame) -> None:
    """
    Render the Advanced Temporal page.

    Args:
        df: Filtered DataFrame.
    """
    st.header(":calendar: Advanced Temporal Analysis")

    st.caption("Holiday effects, crime type profiles, and shift patterns")

    # Check for advanced temporal report
    advanced_report = Path("reports/16_advanced_temporal_analysis_report.md")

    if advanced_report.exists():
        st.info(":memo: Displaying pre-generated advanced temporal analysis report")

        with st.spinner("Loading report..."):
            report_content = advanced_report.read_text()

        # Show report in expandable sections
        with st.expander(":eye: Executive Summary", expanded=True):
            # Extract executive summary
            lines = report_content.split("\n")
            summary_lines = []
            in_summary = False
            for line in lines:
                if line.startswith("## Executive Summary") or line.startswith("## Key Findings"):
                    in_summary = True
                elif line.startswith("## ") and in_summary:
                    break
                if in_summary:
                    summary_lines.append(line)

            st.markdown("\n".join(summary_lines))

        with st.expander(":calendar: Holiday Effects"):
            st.markdown("""
            **Holiday Effects Analysis**

            - Pre-holiday period (3 days before)
            - Holiday day
            - Post-holiday period (3 days after)

            See full report for detailed statistical analysis.
            """)

        with st.expander(":mag: Crime Type Profiles"):
            st.markdown("""
            **Individual Crime Type Analysis**

            - Homicide
            - Burglary
            - Theft
            - Vehicle Theft
            - Aggravated Assault

            See full report for temporal trends and spatial distribution.
            """)

        with st.expander(":clock: Shift Analysis"):
            st.markdown("""
            **Shift-by-Shift Analysis**

            - Late Night (12AM-6AM)
            - Morning (6AM-12PM)
            - Afternoon (12PM-6PM)
            - Evening (6PM-12AM)

            See full report for shift distribution and staffing recommendations.
            """)

        # Option to view full report
        if st.button(":book: View Full Report"):
            st.markdown(report_content)
    else:
        st.warning("""
        **Advanced temporal analysis report not found**

        The unified advanced temporal report
        (`reports/16_advanced_temporal_analysis_report.md`) has not been generated yet.

        To generate this report, run:
        ```bash
        python analysis/03-04-advanced_temporal_report.py
        ```
        """)
```

7. **UPDATE dashboard/app.py** with final tabbed interface:
```python
"""
Philadelphia Crime Incidents Dashboard - Main Entry Point.

Run with: streamlit run dashboard/app.py
"""

import streamlit as st
from pathlib import Path

from dashboard.config import DISPLAY_CONFIG, PAGE_NAMES
from dashboard.components.cache import load_crime_data, apply_filters
from dashboard.filters.time_filters import render_time_filters, get_filter_dates
from dashboard.filters.geo_filters import render_geo_filters, get_filter_districts
from dashboard.filters.crime_filters import render_crime_filters, get_filter_categories
from dashboard.pages import (
    render_overview_page,
    render_temporal_page,
    render_spatial_page,
    render_correlations_page,
    render_advanced_page,
)

# Configure page
st.set_page_config(
    page_title="Philadelphia Crime Dashboard",
    page_icon=":police_car:",
    layout=DISPLAY_CONFIG["layout"],
    initial_sidebar_state="expanded",
)

# Custom CSS
def _load_custom_css():
    st.markdown("""
    <style>
    .main-header {
        font-size: 2.5rem;
        font-weight: 700;
        color: #1f77b4;
        margin-bottom: 0.5rem;
    }
    .sub-header {
        font-size: 1.2rem;
        color: #666;
        margin-bottom: 1rem;
    }
    .stTabs [data-baseweb="tab-list"] {
        gap: 8px;
    }
    .stTabs [data-baseweb="tab"] {
        border-radius: 4px 4px 0 0;
        padding: 10px 20px;
    }
    </style>
    """, unsafe_allow_html=True)

def main():
    """Main dashboard entry point."""
    _load_custom_css()

    # Title
    st.title(DISPLAY_CONFIG["title"])
    st.markdown(f"<p class='sub-header'>{DISPLAY_CONFIG['subtitle']}</p>", unsafe_allow_html=True)

    # Load data (cached)
    with st.spinner("Loading data (first load takes ~10s)..."):
        df = load_crime_data()

    # Sidebar: Render all filters
    with st.sidebar:
        st.header(":wrench: Filters")

        # Time filters
        time_state = render_time_filters()
        start_date, end_date = get_filter_dates(time_state)

        st.markdown("---")

        # Geo filters (depends on time filter)
        df_time_filtered = apply_filters(df, start_date=start_date, end_date=end_date)
        geo_state = render_geo_filters(df_time_filtered)
        selected_districts = get_filter_districts(geo_state)

        st.markdown("---")

        # Crime filters (depends on time + geo)
        df_tg_filtered = apply_filters(
            df, start_date=start_date, end_date=end_date, districts=selected_districts
        )
        crime_state = render_crime_filters(df_tg_filtered)
        selected_categories = get_filter_categories(crime_state)

        st.markdown("---")
        st.caption("Dashboard v1.0 | Phase 4")

    # Apply all filters
    filtered_df = apply_filters(
        df,
        start_date=start_date,
        end_date=end_date,
        districts=selected_districts,
        crime_categories=selected_categories,
    )

    # Filter summary banner
    with st.container():
        col1, col2, col3, col4 = st.columns(4)
        with col1:
            st.metric("Records", f"{len(filtered_df):,}")
        with col2:
            st.metric("Date Range", f"{start_date[:4]}-{end_date[:4]}")
        with col3:
            st.metric("Districts", len(selected_districts))
        with col4:
            st.metric("Categories", len(selected_categories))

    # Create tabs
    tab1, tab2, tab3, tab4, tab5 = st.tabs(list(PAGE_NAMES.values()))

    with tab1:
        render_overview_page(filtered_df)

    with tab2:
        render_temporal_page(filtered_df)

    with tab3:
        render_spatial_page(filtered_df)

    with tab4:
        render_correlations_page(filtered_df)

    with tab5:
        render_advanced_page(filtered_df)

if __name__ == "__main__":
    main()
```

8. **VERIFY the dashboard works**:
```bash
cd "/Users/dustinober/Projects/Crime Incidents Philadelphia"
python -c "
from dashboard.pages import (
    render_overview_page, render_temporal_page, render_spatial_page,
    render_correlations_page, render_advanced_page
)
from dashboard.components.cache import load_crime_data
print('Loading data...')
df = load_crime_data()
print(f'Data loaded: {len(df)} records')
print('Testing overview page...')
from io import StringIO
import sys
old_stdout = sys.stdout
sys.stdout = StringIO()
render_overview_page(df.head(1000))
sys.stdout = old_stdout
print('Overview page OK')
print('All page modules loaded successfully')
"
```

Key implementation notes:
- Follow CONTEXT.md decision: 5 tabs (Overview, Temporal, Spatial, Correlations, Advanced)
- Use st.tabs() for tab organization (RESEARCH.md Pattern 2)
- **NO duplicated plotting logic**: temporal.py and spatial.py call `analyze_temporal_patterns()` and `analyze_spatial_patterns()` from analysis modules, then display returned results
- Pre-generated reports embedded directly in all tabs (CONTEXT.md: "Existing reports embedded as expandable sections")
- Optional "Use filtered data" checkbox allows re-running analysis on current filter (slower, but interactive)
- Filter summary banner shows active filter state
- All analysis logic resides in analysis/ modules (no plotting code duplicated in dashboard)
</action>
  <verify>
python -c "
from dashboard.pages import (
    render_overview_page, render_temporal_page, render_spatial_page,
    render_correlations_page, render_advanced_page
)
from dashboard import app
print('All page modules imported successfully')
print('Dashboard app module loads successfully')
"
</verify>
  <done>
dashboard/pages/__init__.py exports all 5 page render functions

dashboard/pages/overview.py implements render_overview_page() with:
- Key metrics row (4 columns) using get_data_summary() from cache module
- Crime category distribution using built-in st.bar_chart
- Temporal breakdown (year, season) using Streamlit native charts
- District distribution using st.bar_chart

dashboard/pages/temporal.py implements render_temporal_page() with:
- Imports from analysis.temporal_analysis: `from analysis.temporal_analysis import analyze_temporal_patterns`
- Calls analyze_temporal_patterns() to get results dict
- Displays pre-generated report OR re-runs analysis on filtered data
- No plotting code duplicated - reuses analysis module output

dashboard/pages/spatial.py implements render_spatial_page() with:
- Imports from analysis.spatial_analysis: `from analysis.spatial_analysis import analyze_spatial_patterns`
- Calls analyze_spatial_patterns() to get results dict
- Displays pre-generated report OR re-runs analysis on filtered data
- No plotting code duplicated - reuses analysis module output

dashboard/pages/correlations.py implements render_correlations_page() with:
- Embedded pre-generated correlation report or instructions to generate

dashboard/pages/advanced.py implements render_advanced_page() with:
- Embedded pre-generated advanced temporal report with expandable sections
- Full report viewing option

Updated dashboard/app.py with:
- st.tabs() creating 5 tabs
- Filter summary banner
- Tab content using page render functions
- All filters in sidebar

Dashboard launches with streamlit run dashboard/app.py and loads in <5 seconds after initial cache
All analysis visualization logic remains in analysis/ modules (no duplication)
</done>
</task>

</tasks>

<verification>
After completion:
1. Verify all page modules import: `python -c "from dashboard.pages import *"`
2. Verify dashboard launches: `streamlit run dashboard/app.py --server.headless true`
3. Check all 5 tabs render without errors
4. Verify filters work and update visualizations
5. Verify cache performance: second load should be <5 seconds
6. Check that pre-generated reports display in Correlations/Advanced tabs (if available)
</verification>

<success_criteria>
Dashboard displays 5 tabs: Overview/Stats, Temporal Trends, Spatial Maps, Correlations, Advanced Temporal. Overview shows summary metrics. Temporal shows time series plots. Spatial shows district comparison and coordinate scatter. Correlations shows embedded report or instructions. Advanced shows expandable sections for holiday/crime type/shift analysis. All filters update visualizations. Dashboard loads in <5 seconds after cache.
</success_criteria>

<output>
After completion, create `.planning/phases/04-dashboard-foundation/04-06-SUMMARY.md`
</output>
