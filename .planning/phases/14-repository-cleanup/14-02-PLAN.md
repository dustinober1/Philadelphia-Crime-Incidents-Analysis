---
phase: 14-repository-cleanup
plan: 02
type: execute
wave: 2
depends_on: [14-01]
files_modified: [.gitignore]
autonomous: true
user_setup: []

must_haves:
  truths:
    - "All .pyc files are removed from codebase"
    - "All __pycache__ directories are removed from codebase"
    - "Python bytecode is excluded from future git commits"
  artifacts:
    - path: ".gitignore"
      provides: "Git ignore patterns for temporary files"
      contains: "*.pyc\n__pycache__/\n*.pyo"
    - path: "Workspace root"
      provides: "Clean repository state"
      min_lines: 0
  key_links:
    - from: "pyclean"
      to: "Workspace"
      via: "pyclean . command"
      pattern: "removed.*directories.*files"
---

<objective>
Remove Python build artifacts (*.pyc, __pycache__) and update .gitignore to exclude them.

Purpose: Eliminate compiled Python code that creates noise and should not be committed. Update .gitignore to prevent future accumulation.

Output: Clean repository without Python artifacts, updated .gitignore with bytecode exclusion patterns.
</objective>

<execution_context>
@/Users/dustinober/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dustinober/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/milestones/v1.3-ROADMAP.md
@.planning/research/STACK-testing-cleanup.md
@.gitignore
</context>

<tasks>

<task type="auto">
  <name>Run pyclean to remove Python artifacts</name>
  <files>/Users/dustinober/Projects/Crime Incidents Philadelphia/*</files>
  <action>
    Run pyclean to remove all Python build artifacts:
    ```bash
    pyclean .
    ```

    This will remove:
    - *.pyc files (compiled Python bytecode)
    - __pycache__ directories
    - *.pyo files (optimized bytecode)
    - .pytest_cache directory
    - .coverage files
    - .mypy_cache directory

    pyclean is safer than manual `find . -name "*.pyc" -delete` because:
    - It understands Python project structure
    - Respects .gitignore patterns
    - Won't accidentally delete important files
  </action>
  <verify>find . -type f -name "*.pyc" | wc -l | grep "^0$" && find . -type d -name "__pycache__" | wc -l | grep "^0$"</verify>
  <done>No .pyc files or __pycache__ directories exist in workspace</done>
</task>

<task type="auto">
  <name>Verify artifacts removed from critical directories</name>
  <files>/Users/dustinober/Projects/Crime Incidents Philadelphia/analysis/*, /Users/dustinober/Projects/Crime Incidents Philadelphia/api/*, /Users/dustinober/Projects/Crime Incidents Philadelphia/pipeline/*</files>
  <action>
    Verify that all Python artifacts have been removed from core Python packages (analysis/, api/, pipeline/). These are the directories where .pyc and __pycache__ are most likely to accumulate.

    Check for remaining artifacts:
    ```bash
    find analysis api pipeline -type f -name "*.pyc" -o -type d -name "__pycache__"
    ```

    Expected output: Empty (no artifacts found)

    If artifacts remain, investigate why they weren't cleaned (permission issues, unusual directory structure, etc.) and run pyclean again with verbose output if needed.
  </action>
  <verify>! (find analysis api pipeline -type f -name "*.pyc" -o -type d -name "__pycache__" 2>/dev/null | grep -q .)</verify>
  <done>No Python artifacts remain in analysis/, api/, or pipeline/ directories</done>
</task>

<task type="auto">
  <name>Update .gitignore to exclude Python bytecode</name>
  <files>.gitignore</files>
  <action>
    Update .gitignore to ensure Python bytecode patterns are properly excluded. The .gitignore already has *.pyc and __pycache__, but verify they are present and comprehensive:

    Update .gitignore to include (if not already present):
    - *.pyc (compiled Python bytecode)
    - __pycache__/ (Python caching directory)
    - *.pyo (optimized Python bytecode)
    - *.pyd (Python extension modules, if any)
    - *$py.class (Jython bytecode, unlikely but comprehensive)

    Reference: .planning/research/STACK-testing-cleanup.md lines 234-237

    The .gitignore currently has these patterns at the bottom. Verify coverage and add any missing patterns.
  </action>
  <verify>grep -q "*.pyc" .gitignore && grep -q "__pycache__" .gitignore && grep -q "*.pyo" .gitignore</verify>
  <done>.gitignore contains patterns for *.pyc, __pycache__, and *.pyo</done>
</task>

</tasks>

<verification>
- No .pyc files found anywhere in workspace
- No __pycache__ directories found anywhere in workspace
- .gitignore excludes Python bytecode patterns
- pyclean command executed successfully
- All core directories (analysis/, api/, pipeline/) are clean
</verification>

<success_criteria>
- Workspace is free of Python build artifacts (.pyc, __pycache__)
- .gitignore updated with comprehensive bytecode exclusion patterns
- pyclean command executed without errors
- No artifacts remain in critical directories
</success_criteria>

<output>
After completion, create `.planning/phases/14-repository-cleanup/14-02-SUMMARY.md`
</output>
